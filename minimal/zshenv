[[ $- != *i* ]] && return
if ping -q -c 1 -W 1 8.8.8.8 >/dev/null; then
    if [[ $UID != 0 && $EUID != 0 ]]; then
        setopt LOCAL_OPTIONS NO_NOTIFY NO_MONITOR
      
        if [[ ! -f ~/.config/ranger/rifle.conf ]]; then
            mkdir -p ~/.config/ranger
            ranger --copy-config=all &
        fi
      #echo "Updating environment JacobSandin"
      /usr/bin/wget --quiet --no-cache --no-cookies https://raw.githubusercontent.com/JacobSandin/configs/master/minimal/zshrc -O ~/.zshrc >/dev/null 2>/dev/null &
      # zshenv uppdateras via git pull av configs-repot, inte hÃ¤r (undviker problem med self-modification)
      #/usr/bin/wget --quiet --no-cache --no-cookies https://raw.githubusercontent.com/JacobSandin/configs/master/minimal/init.vim -O ~/.config/nvim/init.vim >/dev/null 2>/dev/null &
        /usr/bin/wget --quiet --no-cache --no-cookies https://raw.githubusercontent.com/JacobSandin/configs/master/minimal/ranger_rc.conf -O ~/.config/ranger/rc.conf 2>/dev/null &
      
      if [[ ! -L ~/.tmux.conf ]]; then
        rm -f ~/.tmux.conf
        ln -s ~/utv/git/configs/tmux/tmux.conf ~/.tmux.conf
      fi
      
      # Update configs repo if it exists
      if [[ -d ~/utv/git/configs ]]; then
        (cd ~/utv/git/configs && git pull --quiet >/dev/null 2>/dev/null &)
      fi
    fi
fi

